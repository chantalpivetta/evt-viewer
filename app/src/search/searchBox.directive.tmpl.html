<div class="search-box"
     ng-class="{'open' : $parent.vm.getState('searchBox') || parentId === 'externalSearchDialog', 'internal': parentId !== 'externalSearchDialog', 'results-open' : vm.getState('searchResultBox')} ">

   <!-- search form -->
   <form ng-submit="vm.doSearchCallback()">
      <button-switch
        ng-repeat="button in vm.searchBoxBtn|limitTo: vm.getBtnLimit()"
        class="no-background btn-left"
        title="{{::button.title}}"
        data-label="{{::button.label}}"
        data-icon="{{::button.icon}}"
        data-type="{{::button.type}}"
        ng-hide="button.hide">
      </button-switch>
      <input type="text" id="{{::vm.keyboardId}}" ng-model="vm.searchInput" ng-change="vm.highlightSearchResults(vm.parentBoxId, vm.searchInput)" autocomplete="off" autofocus>
      <button-switch
        ng-repeat="button in vm.searchBoxBtn|limitTo: -1"
        class="no-background btn-right"
        title="{{::button.title}}"
        data-label="{{::button.label}}"
        data-icon="{{::button.icon}}"
        data-type="{{::button.type}}"
        ng-hide="button.hide">
      </button-switch>
   </form>
   <evt-virtual-keyboard></evt-virtual-keyboard>
   <evt-search-results ng-controller="SearchResultsCtrl as searchResults"></evt-search-results>
</div>
